{% extends 'base.html' %}
{% block title %}Technical Debugger{% endblock %}
{% block content %}
<div class="container py-3">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <ul class="nav nav-pills">
      <li class="nav-item"><a class="nav-link" href="{% url 'super_owner_dashboard' %}">لوحة الإدارة</a></li>
      <li class="nav-item"><a class="nav-link" href="{% url 'super_owner_reports' %}">التقارير</a></li>
      <li class="nav-item"><a class="nav-link" href="{% url 'super_owner_issues' %}">المشاكل</a></li>
      <li class="nav-item"><a class="nav-link active" href="{% url 'technical_debugger' %}">Technical Debugger</a></li>
    </ul>
    <div></div>
  </div>
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <div class="table-responsive admin-table-wrap">
        <table class="table table-sm align-middle">
          <thead>
            <tr>
              <th>File</th>
              <th>Line</th>
              <th>Error Message</th>
              <th>Occurrences</th>
              <th>Suggested Fix</th>
            </tr>
          </thead>
          <tbody>
            {% for e in errors %}
              <tr class="{% if e.source == 'backend' %}table-danger{% else %}table-warning{% endif %}">
                <td>{{ e.file_path|default:'—' }}</td>
                <td>{{ e.line_number|default:'—' }}</td>
                <td>{{ e.error_type }}: {{ e.message|default:'' }}</td>
                <td>{{ e.occurrences }}</td>
                <td>{{ e.suggested_fix }}</td>
              </tr>
            {% empty %}
              <tr><td colspan="5" class="text-center">No errors logged</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
